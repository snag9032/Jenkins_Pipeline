


pipeline {
	agent any 
	stages {
			stage ('compile stage') {
				steps {
				withmaven(maven : '/opt/maven/apache-maven-3.6.3/') {
					sh 'mvn clean compile'				
			}
		}
			}
			stage ('testing stage'){
				steps {
				withmaven(maven : '/opt/maven/apache-maven-3.6.3/') {
					sh 'mvn test'				
			
			}
		}
			}
			stage ('Deployment stage'){
				steps {
				withmaven(maven : '/opt/maven/apache-maven-3.6.3/') {
					sh 'mvn deploy'				
			}
		}
			
		}
	}
}
